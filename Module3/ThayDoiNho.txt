Lỗi **“Error: Application Server not specified”** trong IntelliJ khi deploy project Tomcat thường xuất hiện vì **IDE chưa biết bạn muốn deploy ứng dụng lên server nào**. Đây là lỗi cấu hình IDE, không phải lỗi Tomcat hay code.

---

### **Nguyên nhân:**

1. Chưa khai báo **Application Server (Tomcat)** trong IntelliJ.
2. Chưa gán **artifact WAR / exploded WAR** cho server.
3. Chưa tạo **Run/Debug Configuration** đúng kiểu `Tomcat Server → Local`.

---

### **Cách khắc phục:**

#### **Bước 1: Thêm Tomcat vào IntelliJ**

1. Vào **File → Settings → Build, Execution, Deployment → Application Servers**
2. Nhấn **+ → Tomcat Server**
3. Chọn thư mục cài đặt Tomcat (`C:\tomcat\apache-tomcat-8.5.88`)
4. Nhấn **OK** để lưu.

---

#### **Bước 2: Tạo Run/Debug Configuration**

1. Vào **Run → Edit Configurations…**
2. Nhấn **+ → Tomcat Server → Local**
3. Trong tab **Server**:

   * Chọn **Application Server** là Tomcat vừa thêm.
4. Trong tab **Deployment**:

   * Nhấn **+ → Artifact → chọn WAR / exploded WAR của project**
   * Chọn `Application context` (ví dụ `/` hoặc `/JSP_Servlet_Demo`)
5. Nhấn **OK** để lưu.

---

#### **Bước 3: Chạy Project**

* Chọn configuration vừa tạo → nhấn **Run**.
* IntelliJ sẽ deploy artifact lên Tomcat.

---

### **Lưu ý:**

* Nếu project dùng **Gradle**, đảm bảo artifact WAR đã build (`./gradlew build`) trước khi deploy.
* Tránh duplicate artifact mapping trong server, nếu không IntelliJ sẽ báo lỗi deploy.

---

Mình giải thích chi tiết từng khái niệm và vai trò trong IntelliJ khi làm việc với Tomcat và Java web project nhé:

---

## **1️⃣ Tomcat – Application Server**

* **Vai trò:** Nơi **chạy ứng dụng web** (Servlet, JSP, REST).
* **Chức năng chính:**

  1. Xử lý HTTP request từ client.
  2. Forward request đến Servlet/JSP tương ứng.
  3. Quản lý lifecycle của servlet (`init()`, `service()`, `destroy()`).
  4. Host nhiều web application cùng lúc (qua context path).

> Nói nôm na: Tomcat giống như “máy chủ web” để chạy project của bạn.

---

## **2️⃣ Artifact WAR / Exploded WAR**

### **Artifact là gì?**

* Là **sản phẩm build** của project, có thể deploy lên server.
* Trong IntelliJ/Gradle/Maven, artifact thường là:

  * **WAR (Web Archive)**: một file `.war` chứa tất cả class, JSP, lib, web.xml.
  * **Exploded WAR**: dạng folder **giải nén của WAR**, IntelliJ có thể deploy trực tiếp mà không phải đóng gói.

### **Vai trò:**

* Artifact là thứ mà Tomcat “cầm” để chạy ứng dụng.
* **WAR**: deploy như một file duy nhất, Tomcat giải nén khi cần.
* **Exploded WAR**: deploy trực tiếp từ folder, dễ chỉnh sửa JSP/class mà không phải rebuild cả WAR.

---

## **3️⃣ Run/Debug Configuration**

* **Vai trò:** Nơi IntelliJ biết **chạy project như thế nào**.
* Thường gồm:

  1. **Server:** chọn Tomcat nào sẽ chạy project.
  2. **Deployment:** chọn artifact WAR/Exploded WAR để deploy lên server.
  3. **JVM options / Environment variables:** chỉnh port, memory, debug,…

### **Luồng hoạt động khi nhấn Run:**

1. IntelliJ đọc Run Configuration → biết deploy artifact nào lên server nào.
2. IntelliJ build artifact (nếu cần) → copy lên Tomcat.
3. Tomcat start → ứng dụng sẵn sàng phục vụ HTTP request.
4. Nếu dùng **Debug**, IntelliJ gắn debugger vào JVM của Tomcat.

---

### **Tóm tắt vai trò**

| Thành phần                  | Vai trò chính                                                                |
| --------------------------- | ---------------------------------------------------------------------------- |
| Tomcat                      | Server chạy ứng dụng web, xử lý request                                      |
| Artifact WAR / Exploded WAR | Sản phẩm build của project, deploy lên server                                |
| Run/Debug Configuration     | Nơi IntelliJ biết dùng server nào và artifact nào để chạy hoặc debug project |

---

Nếu bạn muốn, mình có thể vẽ **sơ đồ trực quan luồng request từ client → IntelliJ → Artifact → Tomcat → Servlet/JSP** để bạn hình dung toàn bộ.

Bạn có muốn mình vẽ không?
